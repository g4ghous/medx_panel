{"ast":null,"code":"var _jsxFileName = \"D:\\\\Native\\\\Clone Projects\\\\medx_panel\\\\src\\\\component\\\\updateOrder.js\";\nimport React, { Component } from 'react';\nimport { Serverurl } from '../Common/ServerUrl';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport swal from 'sweetalert';\nexport class UpdateOrder extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateHandler = () => {\n      var validation = true;\n      console.log('Data', this.state.data);\n\n      if (this.state.status == '') {\n        this.setState({\n          errorText: '*Status is required'\n        });\n        validation = false;\n      }\n\n      if (validation == true) {\n        this.setState({\n          loading: true\n        });\n        var data = {\n          \"date\": this.state.data.date,\n          \"status\": this.state.status,\n          \"total\": this.state.data.total,\n          \"name\": this.state.data.name,\n          \"email\": this.state.data.email,\n          \"phone\": this.state.data.phone,\n          \"country\": this.state.data.country,\n          \"city\": this.state.data.city,\n          \"postal_code\": this.state.data.postal_code,\n          \"address\": this.state.data.address,\n          \"address_optional\": this.state.data.address_optional\n        };\n        axios({\n          method: 'post',\n          url: Serverurl + \"orders_edit/\" + this.state.orderId,\n          data: data,\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        }).then(response => {\n          this.setState({\n            loading: false\n          });\n          console.log('Response Data: ', response.data);\n          swal(\"Order Successfully Edited!\");\n          setTimeout(() => {\n            window.location.href = \"/component/gridOrders\";\n          }, 3000);\n        }).catch(error => {\n          this.setState({\n            loading: false\n          });\n          swal(\"Something went wrong!\");\n          console.log('Error: ', error.response);\n        });\n      }\n    };\n\n    this.handleChangeProduct = event => {\n      this.setState({\n        [event.target.name]: event.target.value,\n        errorText: \"\"\n      });\n      console.log(\"Status\", event.target.value);\n    };\n\n    {\n      this.state = {\n        data: [],\n        orderId: \"\",\n        ord_id: '',\n        status: '',\n        errorText: ''\n      };\n    }\n  }\n\n  async componentDidMount() {\n    var orderId = await localStorage.getItem('orderId');\n    var ord_id = await localStorage.getItem('ord_id');\n    this.setState({\n      orderId,\n      ord_id\n    });\n    console.log('Order Id: ', orderId);\n    axios({\n      method: 'get',\n      url: Serverurl + 'orders_show/' + ord_id,\n      // data: data,\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      config: {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n    }).then(res => {\n      // console.log('res', res.data)\n      console.log('Order Data', res.data);\n      this.setState({\n        data: res.data[0]\n      });\n      $(document).ready(function () {\n        $('#datatable2').DataTable();\n      }); // console.log('data', res.data.data)\n    }).catch(err => {\n      console.log(err);\n\n      if (err) {\n        // console.log('err', err.response)\n        console.log({\n          err\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-11 col-md-12 card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"parent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"tab-content\",\n      id: \"myTabContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"tab-pane fade show active\",\n      id: \"home\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"home-tab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"mt-0 header-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 41\n      }\n    }, \"Update Order\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group banner-position input-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"example-search-input\",\n      class: \"col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 45\n      }\n    }, \"Prescription Image\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"banner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.data.prescription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 45\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"status\",\n      class: \"form-control\",\n      onChange: this.handleChangeProduct.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 53\n      }\n    }, \"Select Status\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Order Placed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 53\n      }\n    }, \"Order Placed\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Awaiting Prescription\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 53\n      }\n    }, \"Awaiting Prescription\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Order Confirmed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 53\n      }\n    }, \"Order Confirmed\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Order Shipped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 53\n      }\n    }, \"Order Shipped\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Order Delivered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 53\n      }\n    }, \"Order Delivered\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Order Cancelled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 53\n      }\n    }, \"Order Cancelled\")))), this.state.errorText ? /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 45\n      }\n    }, this.state.errorText) : null, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"button-align\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-danger waves-effect waves-light submit-button\",\n      onClick: this.updateHandler.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 49\n      }\n    }, \"Submit\"))))))))));\n  }\n\n}\nexport default UpdateOrder;","map":{"version":3,"sources":["D:/Native/Clone Projects/medx_panel/src/component/updateOrder.js"],"names":["React","Component","Serverurl","axios","$","swal","UpdateOrder","constructor","props","updateHandler","validation","console","log","state","data","status","setState","errorText","loading","date","total","name","email","phone","country","city","postal_code","address","address_optional","method","url","orderId","headers","Authorization","localStorage","getItem","then","response","setTimeout","window","location","href","catch","error","handleChangeProduct","event","target","value","ord_id","componentDidMount","config","res","document","ready","DataTable","err","render","prescription","bind","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Serverurl } from '../Common/ServerUrl';\r\nimport axios from 'axios';\r\nimport $ from 'jquery';\r\nimport swal from 'sweetalert';\r\n\r\nexport class UpdateOrder extends Component {\r\n    constructor(props) {\r\n        super(props); {\r\n            this.state = {\r\n                data: [],\r\n                orderId: \"\",\r\n                ord_id: '',\r\n                status: '',\r\n                errorText: ''\r\n            }\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var orderId = await localStorage.getItem('orderId');\r\n        var ord_id = await localStorage.getItem('ord_id');\r\n        this.setState({ orderId, ord_id })\r\n        console.log('Order Id: ', orderId);\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: Serverurl + 'orders_show/' + ord_id,\r\n            // data: data,\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n            config: {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n\r\n        }).then(res => {\r\n            // console.log('res', res.data)\r\n            console.log('Order Data', res.data)\r\n\r\n            this.setState({\r\n                data: res.data[0],\r\n            })\r\n            $(document).ready(function () {\r\n                $('#datatable2').DataTable();\r\n            });\r\n            // console.log('data', res.data.data)\r\n        }).catch((err) => {\r\n            console.log(err)\r\n            if (err) {\r\n                // console.log('err', err.response)\r\n                console.log({ err })\r\n            }\r\n        })\r\n    }\r\n\r\n    updateHandler = () => {\r\n        var validation = true;\r\n        console.log('Data', this.state.data)\r\n\r\n        if(this.state.status == '') {\r\n            this.setState({\r\n                errorText: '*Status is required'\r\n            })\r\n            validation = false\r\n        }\r\n\r\n        if(validation == true) {\r\n            this.setState({\r\n                loading: true\r\n            })\r\n\r\n            var data = {\r\n                \"date\": this.state.data.date,\r\n                \"status\": this.state.status,\r\n                \"total\": this.state.data.total,\r\n                \"name\": this.state.data.name,\r\n                \"email\": this.state.data.email,\r\n                \"phone\": this.state.data.phone,\r\n                \"country\": this.state.data.country,\r\n                \"city\": this.state.data.city,\r\n                \"postal_code\": this.state.data.postal_code,\r\n                \"address\": this.state.data.address,\r\n                \"address_optional\": this.state.data.address_optional\r\n            }\r\n\r\n            axios({\r\n                method: 'post',\r\n                url: Serverurl + \"orders_edit/\" + this.state.orderId,\r\n                data: data,\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                },\r\n            })\r\n            .then((response) => {\r\n                this.setState({ loading: false });\r\n                console.log('Response Data: ', response.data);\r\n\r\n                swal(\"Order Successfully Edited!\");\r\n                setTimeout(() => {\r\n                    window.location.href = \"/component/gridOrders\"\r\n                }, 3000)\r\n            })\r\n            .catch((error) => {\r\n                this.setState({ loading: false });\r\n                swal(\"Something went wrong!\");\r\n\r\n                console.log('Error: ', error.response);\r\n            });\r\n        }\r\n    }\r\n\r\n    handleChangeProduct = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value,\r\n            errorText: \"\"\r\n        })\r\n        console.log(\"Status\", event.target.value);\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-11 col-md-12 card\">\r\n                            <div class=\"parent\">\r\n                                {/* <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\r\n                                    <li class=\"nav-item\">\r\n                                        <a class=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\" href=\"#home\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">Englsh</a>\r\n                                    </li>\r\n                                    {/* <li class=\"nav-item\">\r\n                                        <a class=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\" href=\"#profile\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">اردو</a>\r\n                                    </li> \r\n                                </ul> */}\r\n                                <div class=\"tab-content\" id=\"myTabContent\">\r\n                                <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\r\n                                        <h4 class=\"mt-0 header-title\">Update Order</h4>\r\n\r\n                                        <div class=\"form-group banner-position input-margin\">\r\n                                            <label for=\"example-search-input\" class=\"col-form-label\">Prescription Image</label>                                            \r\n                                            <div className=\"banner\">\r\n                                                <img src={this.state.data.prescription} />\r\n                                            </div>\r\n                                        </div>       \r\n\r\n                                        <div class=\"form-group row\">\r\n                                            <label class=\"col-sm-2 col-form-label\">Status</label>\r\n                                            <div class=\"col-sm-10\">\r\n                                                <select name=\"status\" class=\"form-control\" onChange={this.handleChangeProduct.bind(this)}>\r\n                                                    <option value=\"\">Select Status</option>                                                    \r\n                                                    <option value=\"Order Placed\">Order Placed</option>                                                    \r\n                                                    <option value=\"Awaiting Prescription\">Awaiting Prescription</option>                                                    \r\n                                                    <option value=\"Order Confirmed\">Order Confirmed</option>                                                    \r\n                                                    <option value=\"Order Shipped\">Order Shipped</option>                                                    \r\n                                                    <option value=\"Order Delivered\">Order Delivered</option>                                                    \r\n                                                    <option value=\"Order Cancelled\">Order Cancelled</option>                                                    \r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {this.state.errorText ?\r\n                                            <p style={{ color: 'red' }}>{this.state.errorText}</p>\r\n                                            : null\r\n                                        }\r\n\r\n                                        <div class=\"form-group row\">\r\n                                            <div class=\"button-align\">\r\n                                                <button type=\"button\" class=\"btn btn-danger waves-effect waves-light submit-button\"\r\n                                                    onClick={this.updateHandler.bind(this)} >Submit</button>\r\n                                            </div>\r\n                                        </div>\r\n                                        {/* {this.state.errorText ?\r\n                                            <p style={{ color: 'red' }}>{this.state.errorText}</p>\r\n                                            : null\r\n                                        }\r\n                                        <div id=\"err\">{this.state.error}</div> */}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UpdateOrder;\r\n\r\n"]},"metadata":{},"sourceType":"module"}