{"ast":null,"code":"import _classCallCheck from\"D:\\\\medx_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\medx_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\medx_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\medx_panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Serverurl,Serverurlimg}from'../Common/ServerUrl';import axios from'axios';import $ from'jquery';import{OutTable,ExcelRenderer}from'react-excel-renderer';import swal from'sweetalert';var DataRows;export var GridEvents=/*#__PURE__*/function(_Component){_inherits(GridEvents,_Component);var _super=_createSuper(GridEvents);function GridEvents(props){var _this;_classCallCheck(this,GridEvents);_this=_super.call(this,props);_this.state={data:[],title:\"\",address:\"\",event_date_time:\"\",event_type_id:\"\",country_id:\"\",state_id:\"\",city_id:\"\",area_id:\"\",imam_bargah_id:\"\",manqabat_khuwan_id:\"\",noha_khuwan_id:\"\",zakir_id:\"\",islamic_date:\"\",FileStatus:false};return _this;}_createClass(GridEvents,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var data;axios({method:'get',url:Serverurl+\"event/all\",data:data,headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))},config:{headers:{'Content-Type':'application/json'}}}).then(function(res){console.log('res',res.data.data);console.log('hey',res.data);_this2.setState({data:res.data.data});$(document).ready(function(){$('#datatable2').DataTable();});console.log('data',res.data.data);}).catch(function(err){console.log(err);if(err){console.log('err',err.response);console.log({err:err});}});}// fileHandler = (event) => {\n//     let fileObj = event.target.files[0];\n//     if(fileObj){\n//         this.setState({\n//             FileStatus: true\n//         })\n//     }\n//     //just pass the fileObj as parameter\n//     ExcelRenderer(fileObj, (err, resp) => {\n//       if(err){\n//         console.log(err);            \n//       }\n//       var row_title = resp.rows[1][0]\n//       var row_address = resp.rows[1][1]\n//       var row_date = JSON.parse(resp.rows[1][2])\n//       var row_id = resp.rows[1][3]\n//       DataRows = resp.rows;\n//       for(var i = 1; i < DataRows.length; i++){\n//         console.log(\"For Loop\", DataRows[i][0])\n//     }\n//     console.log(\"response\", resp)\n//     console.log(\"response-col\", resp.cols)\n//     console.log(\"response-rows\", resp.rows)\n//     console.log(\"response-title\", row_title)\n//     console.log(\"response-address\", row_address)\n//     console.log(\"response-date\", row_date)\n//     console.log(\"response-id\", row_id)\n//     console.log(\"Data:\", DataRows)\n//     this.setState({\n//         title : row_title,\n//         address : row_address,\n//         event_date_time : row_date,\n//         event_type_id : row_id\n//     })\n//     });     \n// }\n// SubmitExcelData(){\n//     var Status = false;\n//     for(var i = 1; i < DataRows.length; i++){\n//         console.log(\"For Loop\", DataRows[i][0])\n//         for(var j = 0; j < this.state.data.length; j++){\n//             if(this.state.data[j].title == DataRows[i][0]){\n//                 console.log(\"Status\")\n//                 Status = true;\n//             }\n//         }\n//         if(Status == false){\n//     var data = {\n//         title: DataRows[i][0],\n//         address: DataRows[i][1],\n//         event_date_time: JSON.parse(DataRows[i][2]),\n//         event_type_id: DataRows[i][3],\n//         country_id: DataRows[i][4],\n//         state_id: DataRows[i][5],\n//         city_id: DataRows[i][6],\n//         area_id: DataRows[i][7],\n//         imam_bargah_id: DataRows[i][8],\n//         manqabat_khuwan_id: DataRows[i][9],\n//         noha_khuwan_id: DataRows[i][10],\n//         zakir_id: DataRows[i][11],\n//         islamic_date: JSON.parse(DataRows[i][12]),\n//     }\n//     console.log(\"Api Data:\", data)\n//     axios({\n//         method: 'post',\n//         url: Serverurl + 'event/create',\n//         data: data,\n//         headers: {\n//             'Authorization': `Bearer ${localStorage.getItem('token')}`,\n//         },\n//         config: {\n//             headers: { 'Content-Type': 'application/json' }\n//         }\n//     })\n//         .then((res) => {\n//             console.log('res', res.data)\n//             if (res.status === \"true\") {\n//                 swal(\"Poof! Your imaginary file has been deleted!\", {\n//                     icon: \"success\",\n//                 });\n//                 this.setState({\n//                     loading: true\n//                 })\n//             } else {\n//                 swal(\"Events Added Successfully!\");\n//             }\n//             setTimeout(() => {\n//                 // window.location.href = \"/component/GridEvents\"\n//             }, 3000)\n//             console.log('data', res.data)\n//         })\n//         .catch((err) => {\n//             console.log({ err })\n//             console.log(\"res\", err.response)\n//             if (err) {\n//                 this.setState({\n//                     loading: true\n//                 })\n//                 setTimeout(() => {\n//                     this.setState({\n//                         loading: false\n//                     })\n//                     this.setState((willSuccess) => {\n//                         if (willSuccess) {\n//                             swal(\"Something went wrong!\", {\n//                                 icon: \"warning\",\n//                             });\n//                         } else {\n//                             swal(\"Your imaginary file is safe!\");\n//                         }\n//                     })\n//                 }, 3000)\n//             }\n//         })\n// }\n// else{\n//     this.setState((willSuccess) => {\n//                             if (willSuccess) {\n//                                 swal(\"Already Added Events in Uploaded File!\", {\n//                                     icon: \"warning\",\n//                                 });\n//                             } else {\n//                                 swal(\"Your imaginary file is safe!\");\n//                             }\n//                         })\n// }\n//     }\n// }\n},{key:\"viewEvent\",value:function viewEvent(id){localStorage.setItem('eventId',id);console.log(id);window.location.href=\"/component/ViewEvents\";}},{key:\"delete\",value:function _delete(id){localStorage.setItem('deleteEvent',id);// console.log(\"idp\", id)\n}},{key:\"deleteBooking\",value:function deleteBooking(){var _this3=this;// var id = localStorage.getItem(\"deleteEvent\")\n// var Check = parseInt(id)\n// this.setState({\n//     GuideId: Check,\n// })\nvar data={'id':localStorage.getItem(\"deleteEvent\")};axios({method:'DELETE',url:Serverurl+'event/remove',params:data,headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))},config:{headers:{'Content-Type':'application/json'}}}).then(function(res){console.log('res',res.data);if(res.status==='true'){swal(\"Poof! Your imaginary file has been deleted!\",{icon:\"success\"});_this3.setState({loading:true});}else{swal(\"Your Record Succesfully Deleted!\");}setTimeout(function(){window.location.reload();},2000);}).catch(function(err){console.log(err);if(err){setTimeout(function(){_this3.setState({loading:false});_this3.setState(function(willSuccess){if(willSuccess){swal(\"Check Your Internet Connection\",{icon:\"warning\"});}else{swal(\"Your Record Succesfully Deleted!\");}});},5000);}});}},{key:\"editEvent\",value:function editEvent(id){localStorage.setItem('updateId',id);console.log(id);window.location.href=\"/component/UpdateEvents\";}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{class:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-lg-11 col-sm-11\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card\"},/*#__PURE__*/React.createElement(\"div\",{class:\"card-body table-responsive\"},/*#__PURE__*/React.createElement(\"div\",{className:\"list-head-btn\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head\"},/*#__PURE__*/React.createElement(\"h4\",null,\"List Events\")),/*#__PURE__*/React.createElement(\"div\",{class:\"button-align\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/component/CreateEvents\",type:\"button\",class:\"btn btn-danger waves-effect waves-light submit-button\"},\"Create Events +\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"event-import\"},/*#__PURE__*/React.createElement(\"div\",{class:\"button-align\"},/*#__PURE__*/React.createElement(\"a\",{type:\"button\",href:\"/component/UploadEvents\",class:\"btn btn-danger waves-effect waves-light submit-button\"},\"Import Events\"))),/*#__PURE__*/React.createElement(\"div\",{class:\"table-3\"},/*#__PURE__*/React.createElement(\"table\",{id:\"datatable2\",class:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Event Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Imam Bargah\"),/*#__PURE__*/React.createElement(\"th\",null,\"Event Type\"),/*#__PURE__*/React.createElement(\"th\",null,\"Country\"),/*#__PURE__*/React.createElement(\"th\",null,\"Address\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date and Time\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"),/*#__PURE__*/React.createElement(\"th\",null,\"Online Link\"),/*#__PURE__*/React.createElement(\"th\",null,\"Action\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.data.map(function(event){return/*#__PURE__*/React.createElement(\"tr\",{key:event.id},/*#__PURE__*/React.createElement(\"td\",null,event.title),/*#__PURE__*/React.createElement(\"td\",null,event.imam_bargah),/*#__PURE__*/React.createElement(\"td\",null,event.event_type),/*#__PURE__*/React.createElement(\"td\",null,event.country),/*#__PURE__*/React.createElement(\"td\",null,event.address),/*#__PURE__*/React.createElement(\"td\",null,event?event.event_date_time:''),/*#__PURE__*/React.createElement(\"td\",null,event.status),/*#__PURE__*/React.createElement(\"td\",null,event.online_link),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{class:\"icon-pad\"},/*#__PURE__*/React.createElement(\"a\",{onClick:_this4.editEvent.bind(_this4,event.id)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-pencil-alt\"})),/*#__PURE__*/React.createElement(\"a\",{onClick:_this4.viewEvent.bind(_this4,event.id)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-eye\"})),/*#__PURE__*/React.createElement(\"a\",{\"data-toggle\":\"modal\",\"data-target\":\"#userEdit\",onClick:_this4.delete.bind(_this4,event.id)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash-alt\"})))));})))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"user-modal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal fade\",id:\"userEdit\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-dialog\",role:\"document\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\"},\"Event Delete\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},/*#__PURE__*/React.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"You're about to delete an Event from this page. Are you sure?\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-dismiss\":\"modal\"},\"Cancel\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:this.deleteBooking.bind(this)},\"Delete\"))))))));}}]);return GridEvents;}(Component);export default GridEvents;","map":{"version":3,"sources":["D:/medx_panel/src/component/GridEvents.js"],"names":["React","Component","Serverurl","Serverurlimg","axios","$","OutTable","ExcelRenderer","swal","DataRows","GridEvents","props","state","data","title","address","event_date_time","event_type_id","country_id","state_id","city_id","area_id","imam_bargah_id","manqabat_khuwan_id","noha_khuwan_id","zakir_id","islamic_date","FileStatus","method","url","headers","localStorage","getItem","config","then","res","console","log","setState","document","ready","DataTable","catch","err","response","id","setItem","window","location","href","params","status","icon","loading","setTimeout","reload","willSuccess","map","event","imam_bargah","event_type","country","online_link","editEvent","bind","viewEvent","delete","deleteBooking"],"mappings":"whBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,CAAoBC,YAApB,KAAwC,qBAAxC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,OAAQC,QAAR,CAAkBC,aAAlB,KAAsC,sBAAtC,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CAEA,GAAIC,CAAAA,QAAJ,CAEA,UAAaC,CAAAA,UAAb,wGACI,oBAAYC,KAAZ,CAAmB,4CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAETC,KAAK,CAAE,EAFE,CAGTC,OAAO,CAAE,EAHA,CAITC,eAAe,CAAE,EAJR,CAKTC,aAAa,CAAE,EALN,CAMTC,UAAU,CAAE,EANH,CAOTC,QAAQ,CAAE,EAPD,CAQTC,OAAO,CAAE,EARA,CASTC,OAAO,CAAE,EATA,CAUTC,cAAc,CAAE,EAVP,CAWTC,kBAAkB,CAAE,EAXX,CAYTC,cAAc,CAAE,EAZP,CAaTC,QAAQ,CAAE,EAbD,CAcTC,YAAY,CAAE,EAdL,CAeTC,UAAU,CAAE,KAfH,CAAb,CAFe,aAmBlB,CApBL,oFAsBwB,iBAChB,GAAId,CAAAA,IAAJ,CACAT,KAAK,CAAC,CACFwB,MAAM,CAAE,KADN,CAEFC,GAAG,CAAE3B,SAAS,CAAG,WAFf,CAGFW,IAAI,CAAEA,IAHJ,CAIFiB,OAAO,CAAE,CACL,iCAA4BC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA5B,CADK,CAJP,CAOFC,MAAM,CAAE,CACJH,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CADL,CAPN,CAAD,CAAL,CAWGI,IAXH,CAWQ,SAAAC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBF,GAAG,CAACtB,IAAJ,CAASA,IAA5B,EACAuB,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBF,GAAG,CAACtB,IAAvB,EACA,MAAI,CAACyB,QAAL,CAAc,CACVzB,IAAI,CAAEsB,GAAG,CAACtB,IAAJ,CAASA,IADL,CAAd,EAGAR,CAAC,CAACkC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,UAAY,CAC1BnC,CAAC,CAAC,aAAD,CAAD,CAAiBoC,SAAjB,GACH,CAFD,EAGAL,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBF,GAAG,CAACtB,IAAJ,CAASA,IAA7B,EACH,CArBD,EAqBG6B,KArBH,CAqBS,SAACC,GAAD,CAAS,CACdP,OAAO,CAACC,GAAR,CAAYM,GAAZ,EACA,GAAIA,GAAJ,CAAS,CACLP,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBM,GAAG,CAACC,QAAvB,EACAR,OAAO,CAACC,GAAR,CAAY,CAAEM,GAAG,CAAHA,GAAF,CAAZ,EACH,CACJ,CA3BD,EA4BH,CAED;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AA1MJ,4CA6McE,EA7Md,CA6MkB,CACVd,YAAY,CAACe,OAAb,CAAqB,SAArB,CAAgCD,EAAhC,EACAT,OAAO,CAACC,GAAR,CAAYQ,EAAZ,EACAE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,uBAAvB,CAEH,CAlNL,uCAqN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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Serverurl, Serverurlimg } from '../Common/ServerUrl';\r\nimport axios from 'axios';\r\nimport $ from 'jquery';\r\nimport {OutTable, ExcelRenderer} from 'react-excel-renderer';\r\nimport swal from 'sweetalert';\r\n\r\nvar DataRows;\r\n\r\nexport class GridEvents extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            title: \"\",\r\n            address: \"\",\r\n            event_date_time: \"\",\r\n            event_type_id: \"\",\r\n            country_id: \"\",\r\n            state_id: \"\",\r\n            city_id: \"\",\r\n            area_id: \"\",\r\n            imam_bargah_id: \"\",\r\n            manqabat_khuwan_id: \"\",\r\n            noha_khuwan_id: \"\",\r\n            zakir_id: \"\",\r\n            islamic_date: \"\",\r\n            FileStatus: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        var data;\r\n        axios({\r\n            method: 'get',\r\n            url: Serverurl + \"event/all\",\r\n            data: data,\r\n            headers: {\r\n                'Authorization':  `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n            config: {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n\r\n        }).then(res => {\r\n            console.log('res', res.data.data)\r\n            console.log('hey', res.data)\r\n            this.setState({\r\n                data: res.data.data,\r\n            })\r\n            $(document).ready(function () {\r\n                $('#datatable2').DataTable();\r\n            });\r\n            console.log('data', res.data.data)\r\n        }).catch((err) => {\r\n            console.log(err)\r\n            if (err) {\r\n                console.log('err', err.response)\r\n                console.log({ err })\r\n            }\r\n        })\r\n    }\r\n\r\n    // fileHandler = (event) => {\r\n    //     let fileObj = event.target.files[0];\r\n    \r\n    //     if(fileObj){\r\n    //         this.setState({\r\n    //             FileStatus: true\r\n    //         })\r\n    //     }\r\n\r\n    //     //just pass the fileObj as parameter\r\n    //     ExcelRenderer(fileObj, (err, resp) => {\r\n    //       if(err){\r\n    //         console.log(err);            \r\n    //       }\r\n\r\n\r\n    //       var row_title = resp.rows[1][0]\r\n    //       var row_address = resp.rows[1][1]\r\n    //       var row_date = JSON.parse(resp.rows[1][2])\r\n    //       var row_id = resp.rows[1][3]\r\n\r\n    //       DataRows = resp.rows;\r\n\r\n    //       for(var i = 1; i < DataRows.length; i++){\r\n    //         console.log(\"For Loop\", DataRows[i][0])\r\n    //     }\r\n\r\n    //     console.log(\"response\", resp)\r\n    //     console.log(\"response-col\", resp.cols)\r\n    //     console.log(\"response-rows\", resp.rows)\r\n    //     console.log(\"response-title\", row_title)\r\n    //     console.log(\"response-address\", row_address)\r\n    //     console.log(\"response-date\", row_date)\r\n    //     console.log(\"response-id\", row_id)\r\n\r\n    //     console.log(\"Data:\", DataRows)\r\n\r\n    //     this.setState({\r\n    //         title : row_title,\r\n    //         address : row_address,\r\n    //         event_date_time : row_date,\r\n    //         event_type_id : row_id\r\n    //     })\r\n\r\n    //     });     \r\n    // }\r\n    \r\n    // SubmitExcelData(){\r\n\r\n    //     var Status = false;\r\n\r\n    //     for(var i = 1; i < DataRows.length; i++){\r\n    //         console.log(\"For Loop\", DataRows[i][0])\r\n\r\n    //         for(var j = 0; j < this.state.data.length; j++){\r\n\r\n    //             if(this.state.data[j].title == DataRows[i][0]){\r\n    //                 console.log(\"Status\")\r\n    //                 Status = true;\r\n    //             }\r\n    //         }\r\n        \r\n    //         if(Status == false){\r\n    //     var data = {\r\n    //         title: DataRows[i][0],\r\n    //         address: DataRows[i][1],\r\n    //         event_date_time: JSON.parse(DataRows[i][2]),\r\n    //         event_type_id: DataRows[i][3],\r\n    //         country_id: DataRows[i][4],\r\n    //         state_id: DataRows[i][5],\r\n    //         city_id: DataRows[i][6],\r\n    //         area_id: DataRows[i][7],\r\n    //         imam_bargah_id: DataRows[i][8],\r\n    //         manqabat_khuwan_id: DataRows[i][9],\r\n    //         noha_khuwan_id: DataRows[i][10],\r\n    //         zakir_id: DataRows[i][11],\r\n    //         islamic_date: JSON.parse(DataRows[i][12]),\r\n    //     }\r\n\r\n    //     console.log(\"Api Data:\", data)\r\n\r\n    //     axios({\r\n    //         method: 'post',\r\n    //         url: Serverurl + 'event/create',\r\n    //         data: data,\r\n    //         headers: {\r\n    //             'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n    //         },\r\n    //         config: {\r\n    //             headers: { 'Content-Type': 'application/json' }\r\n    //         }\r\n    //     })\r\n    //         .then((res) => {\r\n    //             console.log('res', res.data)\r\n    //             if (res.status === \"true\") {\r\n    //                 swal(\"Poof! Your imaginary file has been deleted!\", {\r\n    //                     icon: \"success\",\r\n    //                 });\r\n    //                 this.setState({\r\n    //                     loading: true\r\n    //                 })\r\n    //             } else {\r\n    //                 swal(\"Events Added Successfully!\");\r\n    //             }\r\n    //             setTimeout(() => {\r\n    //                 // window.location.href = \"/component/GridEvents\"\r\n    //             }, 3000)\r\n    //             console.log('data', res.data)\r\n    //         })\r\n    //         .catch((err) => {\r\n    //             console.log({ err })\r\n\r\n    //             console.log(\"res\", err.response)\r\n\r\n    //             if (err) {\r\n    //                 this.setState({\r\n    //                     loading: true\r\n    //                 })\r\n    //                 setTimeout(() => {\r\n    //                     this.setState({\r\n    //                         loading: false\r\n    //                     })\r\n    //                     this.setState((willSuccess) => {\r\n    //                         if (willSuccess) {\r\n    //                             swal(\"Something went wrong!\", {\r\n    //                                 icon: \"warning\",\r\n    //                             });\r\n    //                         } else {\r\n    //                             swal(\"Your imaginary file is safe!\");\r\n    //                         }\r\n    //                     })\r\n    //                 }, 3000)\r\n    //             }\r\n    //         })\r\n    // }\r\n    // else{\r\n    //     this.setState((willSuccess) => {\r\n    //                             if (willSuccess) {\r\n    //                                 swal(\"Already Added Events in Uploaded File!\", {\r\n    //                                     icon: \"warning\",\r\n    //                                 });\r\n    //                             } else {\r\n    //                                 swal(\"Your imaginary file is safe!\");\r\n    //                             }\r\n    //                         })\r\n    // }\r\n\r\n    //     }\r\n    // }\r\n    \r\n\r\n    viewEvent(id) {\r\n        localStorage.setItem('eventId', id)\r\n        console.log(id)\r\n        window.location.href = \"/component/ViewEvents\"\r\n\r\n    }\r\n\r\n\r\n    delete(id) {\r\n        localStorage.setItem('deleteEvent', id)\r\n        // console.log(\"idp\", id)\r\n    }\r\n\r\n    deleteBooking() {\r\n        // var id = localStorage.getItem(\"deleteEvent\")\r\n\r\n        // var Check = parseInt(id)\r\n\r\n        // this.setState({\r\n        //     GuideId: Check,\r\n        // })\r\n\r\n        var data = {\r\n            'id': localStorage.getItem(\"deleteEvent\")\r\n        }\r\n\r\n        axios({\r\n            method: 'DELETE',\r\n            url: Serverurl + 'event/remove',\r\n            params: data,\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n            },\r\n            config: {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n\r\n        })\r\n\r\n            .then((res) => {\r\n                console.log('res', res.data)\r\n                if (res.status === 'true') {\r\n                    swal(\"Poof! Your imaginary file has been deleted!\", {\r\n                        icon: \"success\",\r\n                    });\r\n                    this.setState({\r\n                        loading: true\r\n                    })\r\n                } else {\r\n                    swal(\"Your Record Succesfully Deleted!\");\r\n                }\r\n                setTimeout(() => {\r\n                    window.location.reload()\r\n                }, 2000)\r\n            })\r\n\r\n            .catch((err) => {\r\n                console.log(err)\r\n                if (err) {\r\n                    setTimeout(() => {\r\n                        this.setState({\r\n                            loading: false\r\n                        })\r\n                        this.setState((willSuccess) => {\r\n                            if (willSuccess) {\r\n                                swal(\"Check Your Internet Connection\", {\r\n                                    icon: \"warning\",\r\n                                });\r\n                            } else {\r\n                                swal(\"Your Record Succesfully Deleted!\");\r\n                            }\r\n                        })\r\n                    }, 5000)\r\n                }\r\n            })\r\n    }\r\n\r\n    editEvent(id) {\r\n        localStorage.setItem('updateId', id)\r\n        console.log(id)\r\n        window.location.href = \"/component/UpdateEvents\"\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <div class=\"row justify-content-center\">\r\n                        <div class=\"col-lg-11 col-sm-11\">\r\n                            <div class=\"card\">\r\n                                <div class=\"card-body table-responsive\">\r\n                                    <div className=\"list-head-btn\">\r\n                                        <div className=\"head\">\r\n                                            <h4>List Events</h4>\r\n                                        </div>\r\n                                        <div class=\"button-align\">\r\n                                            <a href=\"/component/CreateEvents\" type=\"button\" class=\"btn btn-danger waves-effect waves-light submit-button\">Create Events +</a>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"event-import\">\r\n                                    {/* <input type=\"file\" onChange={this.fileHandler.bind(this)} style={{\"padding\":\"10px\"}} />\r\n                                   {this.state.FileStatus ? */}\r\n                                    <div class=\"button-align\">\r\n                                            <a type=\"button\" href=\"/component/UploadEvents\" class=\"btn btn-danger waves-effect waves-light submit-button\">Import Events</a>\r\n                                        </div>\r\n                                        {/* : null } */}\r\n                                    </div>\r\n                                    <div class=\"table-3\">\r\n                                        <table id=\"datatable2\" class=\"table\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Event Name</th>\r\n                                                    <th>Imam Bargah</th>\r\n                                                    <th>Event Type</th>\r\n                                                    <th>Country</th>\r\n                                                    <th>Address</th>\r\n                                                    <th>Date and Time</th>\r\n                                                    <th>Status</th>\r\n                                                    <th>Online Link</th>\r\n                                                    <th>Action</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {this.state.data.map((event) =>\r\n                                                    <tr key={event.id}>\r\n                                                        <td>{event.title}</td>\r\n                                                        <td>{event.imam_bargah}</td>\r\n                                                        <td>{event.event_type}</td>\r\n                                                        <td>{event.country}</td>\r\n                                                        <td>{event.address}</td>\r\n                                                        <td>{event ? event.event_date_time : ''}</td>\r\n                                                <td>{event.status}</td>\r\n                                                        <td>{event.online_link}</td>\r\n                                                        <td>\r\n                                                            <div class=\"icon-pad\">\r\n                                                                <a onClick={this.editEvent.bind(this, event.id)}><i className=\"fas fa-pencil-alt\"></i></a>\r\n                                                                <a onClick={this.viewEvent.bind(this, event.id)}><i className=\"fas fa-eye\"></i></a>\r\n                                                                <a data-toggle=\"modal\" data-target=\"#userEdit\" onClick={this.delete.bind(this, event.id)}><i className=\"fas fa-trash-alt\"></i></a>\r\n                                                            </div>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                )}\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"user-modal\">\r\n                        <div className=\"modal fade\" id=\"userEdit\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                            <div className=\"modal-dialog\" role=\"document\">\r\n                                <div className=\"modal-content\">\r\n                                    <div className=\"modal-header\">\r\n                                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Event Delete</h5>\r\n                                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <span aria-hidden=\"true\">&times;</span>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"modal-body\">\r\n                                        <p>\r\n                                            <strong>\r\n                                                You're about to delete an Event from this page. Are you sure?\r\n                                            </strong>\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"modal-footer\">\r\n                                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n                                        <button type=\"button\" className=\"btn btn-primary\" onClick={this.deleteBooking.bind(this)}>Delete</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GridEvents\r\n"]},"metadata":{},"sourceType":"module"}