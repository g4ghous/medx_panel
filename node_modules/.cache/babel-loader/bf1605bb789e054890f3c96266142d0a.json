{"ast":null,"code":"var _jsxFileName = \"D:\\\\medx_panel\\\\src\\\\component\\\\TravelLogin.js\";\nimport React, { Component } from 'react';\nimport logo2 from \"../component/assets/images/medx-logo.png\";\nimport { Serverurl, ServerurllogRegister } from '../Common/ServerUrl';\nimport axios from 'axios';\nimport Button from 'reactstrap-button-loader';\nexport class TravelLogin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEmailChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value,\n        errorText: ''\n      });\n    };\n\n    this.onKeyDown = event => {\n      // 'keypress' event misbehaves on mobile so we track 'Enter' key via 'keydown' event\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        event.stopPropagation();\n        this.Login();\n      }\n    };\n\n    this.state = {\n      data: [],\n      email: '',\n      password: '',\n      errorText: '',\n      emailError: '',\n      passwordError: '',\n      errors: '',\n      loading: false\n    };\n  }\n\n  emailInput(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  PasswordInput(e) {\n    this.setState({\n      password: e.target.value,\n      errorText: ''\n    });\n  }\n\n  Login(e) {\n    var data;\n    e.preventDefault();\n    var validation = true;\n    const emailsyntax = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n    if (this.state.password == \"\") {\n      this.setState({\n        errorText: \"*Password is required\"\n      });\n      validation = false;\n    }\n\n    if (!emailsyntax.test(this.state.email)) {\n      validation = false;\n      this.setState({\n        errorText: '* Incorrect Email format.'\n      });\n    }\n\n    if (this.state.email == \"\") {\n      this.setState({\n        errorText: \"*Email is required\"\n      });\n      validation = false;\n    }\n\n    if (validation == true) {\n      var data = {\n        'email': this.state.email,\n        'password': this.state.password\n      };\n      this.setState({\n        loading: true\n      });\n      var error = document.getElementById('err');\n\n      if (this.state.email === '' || this.state.password === '') {\n        this.setState({\n          error: 'Please fill fields carefully'\n        });\n        error.classList.add('errorMsg');\n        setTimeout(() => {\n          error.classList.remove('errorMsg');\n          this.setState({\n            error: ''\n          });\n        }, 3000);\n      } else {\n        var data;\n        axios({\n          method: 'post',\n          url: Serverurl + 'login',\n          data: data\n        }).then(res => {\n          console.log(\"mera res\", res.data.Data.user);\n          console.log('res', res.data.success.token);\n          console.log('Token', res.data.success.token);\n          localStorage.setItem('token', res.data.success.token); // window.location.href = \"/component/Dashboard\"\n\n          this.setState({\n            data: res.data,\n            loading: false\n          });\n\n          if (res.data.status === true) {\n            localStorage.setItem(\"userId\", res.data.success.token);\n            localStorage.setItem(\"email\", res.data.Data.email);\n            localStorage.setItem('data', res.data);\n          }\n\n          localStorage.setItem(\"userId\", res.data.success.token); // axios({\n          //     method: 'get',\n          //     url: Serverurl + 'user',\n          //     headers: {\n          //         Authorization: 'Bearer' + ' ' + res.data.data.access_token\n          //     }\n          // })\n          // .then((response) => {\n          //     console.log('User', response.data.data)\n          //     // console.log(\"Type:\", response.data.data.user_type)\n          //     console.log(\"userId:\", response.data.data.id)\n          //     this.setState((res) => {\n          //         if (res.status == false) {\n          //             this.setState({\n          //                 errorText: data.message\n          //             })\n          //             if (data.errors) {\n          //                 if (data.errors.email) {\n          //                     if (data.errors.email.ERR_00001) {\n          //                         this.setState({\n          //                             emailError: '* Email is required'\n          //                         })\n          //                     }\n          //                     if (data.errors.email.ERR_00005) {\n          //                         this.setState({\n          //                             emailError: '* Email is invalid'\n          //                         })\n          //                     }\n          //                 }\n          //                 if (data.errors.password) {\n          //                     if (data.errors.password.ERR_00001) {\n          //                         this.setState({\n          //                             passwordError: '* Password is required'\n          //                         })\n          //                     }\n          //                 }\n          //             }\n          //         }\n          //     })\n          // })\n          // .catch((val) => {\n          //     console.log(\"error:\", val)\n          // })\n        }); // .catch((err) => {\n        //     console.log({ err })\n        //     if (err) {\n        //         error.classList.add('errorMsg');\n        //         this.setState({\n        //             error: 'Login Failed! Please try again',\n        //             loading: true\n        //         })\n        //         error.classList.add('errorMsg');\n        //         setTimeout(() => {\n        //             error.classList.remove('errorMsg')\n        //             this.setState({\n        //                 error: '',\n        //                 loading: false\n        //             })\n        //         }, 3000)\n        //     }\n        // })\n      }\n    }\n  }\n\n  render() {\n    // var userId = localStorage.getItem('/');\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"accountbg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"logo logo-admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo2,\n      height: \"100\",\n      alt: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 68\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-3 pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-horizontal m-t-20\",\n      action: \"index.html\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"email\",\n      name: \"email\",\n      onChange: this.handleEmailChange.bind(this),\n      placeholder: \"Email\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"password\",\n      name: \"password\",\n      onChange: this.PasswordInput.bind(this),\n      placeholder: \"Password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 49\n      }\n    }))), this.state.errorText ? /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: 'red'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 45\n      }\n    }, this.state.errorText) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group text-center row m-t-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger btn-block waves-effect waves-light\",\n      type: \"submit\",\n      onClick: this.Login.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 49\n      }\n    }, \"Log In\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group m-t-10 mb-0 row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 m-t-20 my-forgot\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/component/TravelForgot\",\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"mdi mdi-lock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 106\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 139\n      }\n    }, \"Forgot your password ?\")))))))))));\n  }\n\n}\nexport default TravelLogin;","map":{"version":3,"sources":["D:/medx_panel/src/component/TravelLogin.js"],"names":["React","Component","logo2","Serverurl","ServerurllogRegister","axios","Button","TravelLogin","constructor","props","handleEmailChange","event","setState","target","name","value","errorText","onKeyDown","key","preventDefault","stopPropagation","Login","state","data","email","password","emailError","passwordError","errors","loading","emailInput","e","PasswordInput","validation","emailsyntax","test","error","document","getElementById","classList","add","setTimeout","remove","method","url","then","res","console","log","Data","user","success","token","localStorage","setItem","status","render","bind","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport logo2 from \"../component/assets/images/medx-logo.png\";\r\nimport { Serverurl, ServerurllogRegister } from '../Common/ServerUrl';\r\nimport axios from 'axios';\r\nimport Button from 'reactstrap-button-loader';\r\n\r\nexport class TravelLogin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            email: '',\r\n            password: '',\r\n            errorText: '',\r\n            emailError: '',\r\n            passwordError: '',\r\n            errors: '',\r\n            loading: false\r\n        }\r\n    }\r\n\r\n    emailInput(e) {\r\n        this.setState({\r\n            email: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n\r\n    handleEmailChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value,\r\n            errorText: ''\r\n        })\r\n    }\r\n\r\n\r\n    PasswordInput(e) {\r\n        this.setState({\r\n            password: e.target.value,\r\n            errorText: ''\r\n        })\r\n    }\r\n\r\n\r\n    Login(e) {\r\n\r\n        var data;\r\n\r\n        e.preventDefault();\r\n        var validation = true;\r\n\r\n        const emailsyntax = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\r\n        if (this.state.password == \"\") {\r\n            this.setState({\r\n                errorText: \"*Password is required\"\r\n            })\r\n            validation = false;\r\n        }\r\n\r\n        if (!emailsyntax.test(this.state.email)) {\r\n            validation = false;\r\n            this.setState({\r\n                errorText: '* Incorrect Email format.'\r\n            })\r\n        }\r\n\r\n        if (this.state.email == \"\") {\r\n            this.setState({\r\n                errorText: \"*Email is required\"\r\n            })\r\n            validation = false;\r\n        }\r\n\r\n\r\n\r\n        if (validation == true) {\r\n\r\n            var data = {\r\n                'email': this.state.email,\r\n                'password': this.state.password\r\n            }\r\n\r\n            this.setState({\r\n                loading: true\r\n            })\r\n\r\n            var error = document.getElementById('err');\r\n            if (this.state.email === '' || this.state.password === '') {\r\n                this.setState({\r\n                    error: 'Please fill fields carefully'\r\n                })\r\n                error.classList.add('errorMsg');\r\n                setTimeout(() => {\r\n                    error.classList.remove('errorMsg')\r\n                    this.setState({\r\n                        error: ''\r\n                    })\r\n                }, 3000)\r\n            } else {\r\n                var data;\r\n                axios({\r\n                    method: 'post',\r\n                    url: Serverurl + 'login',\r\n                    data: data,\r\n                })\r\n                    .then(res => {\r\n                        console.log(\"mera res\", res.data.Data.user)\r\n                        console.log('res', res.data.success.token)\r\n                        console.log('Token', res.data.success.token)\r\n                        localStorage.setItem('token', res.data.success.token)\r\n                        // window.location.href = \"/component/Dashboard\"\r\n\r\n                        this.setState({\r\n                            data: res.data,\r\n                            loading: false\r\n                        })\r\n                        if (res.data.status === true) {\r\n                            \r\n                            localStorage.setItem(\"userId\", res.data.success.token)\r\n                            localStorage.setItem(\"email\", res.data.Data.email)\r\n                            localStorage.setItem('data', res.data)\r\n                        }\r\n\r\n\r\n                        localStorage.setItem(\"userId\", res.data.success.token)\r\n\r\n\r\n                        // axios({\r\n                        //     method: 'get',\r\n                        //     url: Serverurl + 'user',\r\n                        //     headers: {\r\n                        //         Authorization: 'Bearer' + ' ' + res.data.data.access_token\r\n                        //     }\r\n\r\n                        // })\r\n\r\n                            // .then((response) => {\r\n                            //     console.log('User', response.data.data)\r\n                            //     // console.log(\"Type:\", response.data.data.user_type)\r\n                            //     console.log(\"userId:\", response.data.data.id)\r\n\r\n                            //     this.setState((res) => {\r\n                            //         if (res.status == false) {\r\n                            //             this.setState({\r\n                            //                 errorText: data.message\r\n                            //             })\r\n                            //             if (data.errors) {\r\n                            //                 if (data.errors.email) {\r\n                            //                     if (data.errors.email.ERR_00001) {\r\n                            //                         this.setState({\r\n\r\n                            //                             emailError: '* Email is required'\r\n                            //                         })\r\n                            //                     }\r\n\r\n                            //                     if (data.errors.email.ERR_00005) {\r\n                            //                         this.setState({\r\n\r\n                            //                             emailError: '* Email is invalid'\r\n                            //                         })\r\n                            //                     }\r\n                            //                 }\r\n                            //                 if (data.errors.password) {\r\n                            //                     if (data.errors.password.ERR_00001) {\r\n                            //                         this.setState({\r\n\r\n                            //                             passwordError: '* Password is required'\r\n                            //                         })\r\n                            //                     }\r\n                            //                 }\r\n                            //             }\r\n                            //         }\r\n                            //     })\r\n\r\n                            // })\r\n                            // .catch((val) => {\r\n                            //     console.log(\"error:\", val)\r\n                            // })\r\n\r\n\r\n                    })\r\n                    // .catch((err) => {\r\n                    //     console.log({ err })\r\n                    //     if (err) {\r\n                    //         error.classList.add('errorMsg');\r\n                    //         this.setState({\r\n                    //             error: 'Login Failed! Please try again',\r\n                    //             loading: true\r\n                    //         })\r\n                    //         error.classList.add('errorMsg');\r\n                    //         setTimeout(() => {\r\n                    //             error.classList.remove('errorMsg')\r\n                    //             this.setState({\r\n                    //                 error: '',\r\n                    //                 loading: false\r\n                    //             })\r\n                    //         }, 3000)\r\n                    //     }\r\n                    // })\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    onKeyDown = (event) => {\r\n        // 'keypress' event misbehaves on mobile so we track 'Enter' key via 'keydown' event\r\n        if (event.key === 'Enter') {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            this.Login();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        // var userId = localStorage.getItem('/');\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <div className=\"accountbg\"></div>\r\n                    <div className=\"wrapper-page\">\r\n                        <div className=\"card1\">\r\n                            <div className=\"card-body\">\r\n                                {/* <div id=\"err\">{this.state.error}</div> */}\r\n                                <div className=\"text-center\">\r\n                                    <a className=\"logo logo-admin\"><img src={logo2} height=\"100\" alt=\"logo\" /></a>\r\n                                </div>\r\n\r\n                                <div className=\"px-3 pb-3\">\r\n                                    <form className=\"form-horizontal m-t-20\" action=\"index.html\">\r\n\r\n                                        <div className=\"form-group row\">\r\n                                            <div className=\"col-12\">\r\n                                                <input className=\"form-control\" type=\"email\" name=\"email\" onChange={this.handleEmailChange.bind(this)} placeholder=\"Email\" required />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group row\">\r\n                                            <div className=\"col-12\">\r\n                                                <input className=\"form-control\" type=\"password\" name=\"password\" onChange={this.PasswordInput.bind(this)} placeholder=\"Password\" required />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {this.state.errorText ?\r\n                                            <p style={{ color: 'red' }}>{this.state.errorText}</p>\r\n                                            : null\r\n                                        }\r\n                                        <div className=\"form-group text-center row m-t-20\">\r\n                                            <div className=\"col-12\">\r\n                                                <button className=\"btn btn-danger btn-block waves-effect waves-light\" type=\"submit\" onClick={this.Login.bind(this)}>Log In</button>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group m-t-10 mb-0 row\">\r\n                                            <div className=\"col-sm-12 m-t-20 my-forgot\">\r\n                                                <a href=\"/component/TravelForgot\" className=\"text-muted\"><i className=\"mdi mdi-lock\"></i> <small>Forgot your password ?</small></a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default TravelLogin\r\n"]},"metadata":{},"sourceType":"module"}